function Sipario(e,t){function n(e,t){for(var n in e)x[n]=e[n];!0!==t&&g()}function i(e,t,n){var i=e,r=o(i).top,a=0;if(!0===t){if(!1===i.classList.contains(C))for(i=i.parentNode;!1===i.classList.contains(C);)!0===(i=i.parentNode).classList.contains(H)&&(i=e);for(var s=0,c=0;c<F.length;c++)i===F[c]&&(s=c);for(c=0;c<s;c++)a+=q[c];e!==i&&(a+=r+Math.abs(F[s].getBoundingClientRect().top)),a=-window.scrollY+a}else a=e.getBoundingClientRect().top;var u=-window.scrollY+a;y(a,0,Math.abs(u)>2e3?1500:1e3,null,e.id,n)}function o(e){return e=e.getBoundingClientRect(),{left:e.left,top:e.top}}function r(e){return!!A.querySelector(e)}function a(e){w()}function s(e){m()}function c(e){g(),R&&R()}function u(e){g(),B&&B()}function l(e){if(e.preventDefault(),!1===S){var t=document.location.hash;if(t===L)return!1;i(document.querySelector(t),r(t))}}function d(){for(var e,t=0;t<F.length;t++){var n=F[t],i=F[t+1];if((e=n.getBoundingClientRect()).top<window.innerHeight&&e.bottom>0&&!1===n.classList.contains(D))for(var o=t+1;o<F.length;o++)(n=F[o]).classList.add(D);else if(e.bottom<0&&!1===n.classList.contains(D)&&i&&!0===i.classList.contains(D)){i.classList.remove(D);break}}}function f(){for(var e=b,t=F.length-1;t>=0;t--)F[t].style.zIndex=e++}function h(){for(var e=0,t=window.innerHeight,n=0;n<F.length;n++){var i=F[n];cBox=i.getBoundingClientRect();var o=cBox.bottom-cBox.top;q[n]=o,!0===x.forceSiparioHeight&&n===F.length-1&&o<t&&(o=t),e+=o}A.style.minHeight=e+"px"}function g(){f(),h(),d()}function w(){p(!1)}function m(){p(!0)}function p(e){I=e,!1===N&&requestAnimFrame(v),N=!0}function v(){N=!1,!0===I&&h(),d()}function y(e,t,n,i,o,r){function a(e){u||(u=e);var t=e-u,i=c(t,d,f,h);window.scrollTo(0,i),t<n?requestAnimFrame(a):s()}function s(){window.scrollTo(0,f+d),"function"==typeof i&&i(),!1!==r&&!0===x.updateHash&&("string"==typeof e&&"#"===e.substr(0,1)?document.location.hash=e:document.location.hash=o,L=document.location.hash),S=!1}function c(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}var u,l="string"==typeof e?document.querySelector(e):e,d=window.pageYOffset,f="number"==typeof e?e:t+l.getBoundingClientRect().top,h=n||1e3;S=!0,requestAnimFrame(a)}var A,b=0,q=[],L="",S=!1,R=null,B=null;if("string"==typeof e)A=document.querySelector(e);else{if(!e.querySelector)throw"Sipario was not able to find the container element. Please, check the element youâ€˜ve passed to the new Sipario() function.";A=e}var F,H="sipario",E=A.id||"sipario-"+(new Date).getTime(),C="sipario__child",D="sipario__child--fixed",x={};x.forceSiparioHeight=!1,x.useHistory=!0,x.updateHash=!0,n(t,!0);for(var k=A.querySelectorAll("*[id]"),T=0;T<k.length;T++)for(var _=k[T],z=document.querySelectorAll("*[href='#"+_.id+"']"),M=0;M<z.length;M++)(Y=z[M]).getAttribute("href")&&"#"===Y.getAttribute("href").substr(0,1)&&Y.getAttribute("href").length>1&&function(e,t){e.href="",e.addEventListener("click",function(e){e.preventDefault&&e.preventDefault(),i(t,!0)})}(Y,_);for(var O=document.querySelectorAll("a[href^='#']"),T=0;T<O.length;T++){var Y=O[T];Y.getAttribute("href")&&"#"===Y.getAttribute("href").substr(0,1)&&Y.getAttribute("href").length>1&&Y.addEventListener("click",function(e){e.preventDefault&&e.preventDefault(),i(document.querySelector(e.currentTarget.getAttribute("href")))})}window.addEventListener("scroll",a),window.addEventListener("resize",s),document.addEventListener("DOMContentLoaded",c),window.addEventListener("load",u),!0===x.useHistory&&(window.addEventListener("popstate",l),window.addEventListener("hashchange",l)),function(){A.classList.add(H),A.id=A.id||E,F=document.querySelectorAll("#"+E+" > *");for(var e=0;e<F.length;e++)F[e].classList.add(C,C+(e+1))}(),g();var N=!1,I=!1;return window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),{setOptions:n}}